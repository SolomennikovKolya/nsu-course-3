
### Полезности
- [Медия](https://www.nsumedia.ru/main_potok/third_course/fifth_semester/database)
- [Задания для проектов](https://docs.google.com/document/d/1UsIZY0JJKGaf0pqvZArv--NHtj9nrNa_/edit)
- [Описание проектов](https://docs.google.com/document/d/1VpRXyO9DVSKPxkdWEFubtaxEDkcxUzhv/edit)
- [Гугл-диск с материалами](https://drive.google.com/drive/folders/13y5gWCIQTiyg-9LlVB826phQJemk4dTV)
- [Гугл-диск лектора](https://drive.google.com/drive/folders/1aPrGo1XBiQedhvnALgVJL1Erz4aqQlRv)
- [Отзывы о преподавателях](https://docs.google.com/document/d/16hbDYg7dMCo3DLn8NgGGI-eOoDxosUn0yKN1fwrPcsA/edit#heading=h.jcnhp9p1wgko)
- [Отзывы о преподавателях 2.0](https://docs.google.com/document/d/11VQiY0Cr86lxh0qlV4kj7X857_xOVnfCdQMilYKfob0/edit#heading=h.z9gt69h3lhwi)
- [Тесты от Караваева](http://ccfit.nsu.ru/~karavaev/)
- [Расписанные криты](https://docs.google.com/document/d/1wpYo1Z2Vdf6UEKxLWsjwzJg4qk71Tb_jR1LjvUL-M18/edit#heading=h.i4i47456z4u5)
- [Расписанные вопросы](https://docs.google.com/document/d/1YILTbuNEWH9YXQSVyxSdrL5twPLrPT-aOZzGKwQjSg0/edit)
- [Расписанные вопросы 2.0](https://docs.google.com/document/d/1XeZhV_EnHm8ttQPun7HxFKFl_9IcIPk4-iXFopq-w-U/edit)
- [Отзывы о сдаче экзамена](https://docs.google.com/spreadsheets/d/1X7SkwqaCLOhLE_y_84_KDMM5kZdROauHGhhmzem8Wig/edit?gid=0#gid=0)
- [Гайд по установке Apache + PHP + MySQL](https://hackware.ru/?p=21)
- [БД, на которых тренироваться select запросы писать (логин: HR, пароль: HR)](http://84.237.50.81:8080/apex)
- [Интерактивный онлайн курс по SQL](https://sql-academy.org/ru)

### Тренировочные тесты (не от лектора):
- [тесты 1 & 2](https://docs.google.com/forms/d/e/1FAIpQLSftTzNRV76ZmXtdrQcRH9CDDsvL3789nO-YcFQZ0MhIaWmeig/viewform)
- [расширение тестов 1 & 2](https://docs.google.com/forms/d/e/1FAIpQLSdOIDxjT-jBs8ms8jPF2t5TVnlvuvgrA137GieY4cQuSgU6HQ/viewform)
- [тест 3](https://docs.google.com/forms/d/e/1FAIpQLSfrfL_1Pk5vMY-Xk0UJIyaph_xV5IvN--E5IXnkQEJVAEoE6w/viewform)
- [тест 4](https://docs.google.com/forms/d/e/1FAIpQLSfvjvK4Eeg-Cxr-HtwlL0t3g58F2wXI7zBabbPTFi_bkudU2g/viewform)
- [тест 5](https://docs.google.com/forms/d/e/1FAIpQLSf0JYrE9lZy7EQw51SIfq96A59VI_ruyvLPFE0Sc0n8dX_T-Q/viewform)
- [тест 6](https://docs.google.com/forms/d/e/1FAIpQLSeiuzk8FTSroiivdO3dwtNPw4KQ9_1C9aRqJ4DVL3-RqhixOg/viewform)

### Ссылки
- [localhost](http://localhost)
- [MAMP](http://localhost/MAMP/)
- [phpMyAdmin](http://localhost/phpMyAdmin5/)

### Команды
- `httpd.exe -k start` - запуск Apache веб-сервера (который в C:/Server)
- `netstat -aon | findstr :80` - проверить, что Apache запущен (если он на порту 80)
- `net start mysql` - запуск MySQL (который в C:/Server)
- `netstat -aon | findstr :3306` - проверить, что MySQL запущен

Нужно:
- Сделать проект (до конца октября)
- Готовиться к кр по sql (нужно будет написать 3 select-а за 45 минут)
- Изучать лекции
- Готовиться к тестам (делать упражнения)

Требования к проекту (11 ноября - задание по индивидуальному проекту):
- Кнопка для включения. Если нет базы данных, то она создаёт и развёртывает. Если база есть, то она далжна например пересоздаваться
- Должна быть возможность указать сервер, имя пользователя
- Домашняя страница - index.html или index.php
- Сдавать заархивированную папку, названную по фамилии и группе. Не должно быть поддиректорий
- Должно быть связанное гипертекстовое пространство без тупиков (без пользования стрелочками)

### Инструменты

**MS Access** (Microsoft Access) - СУБД (система управления базами данных). Она предоставляет возможность создания и управления реляционными базами данных и интегрирует удобный пользовательский интерфейс для работы с базами данных.
- Хорошо подходит для небольших и средних приложений баз данных
- MS Access можно использовать как базу данных для приложений

**SQL** (Structured Query Language) — это язык структурированных запросов, используемый для управления и взаимодействия с реляционными базами данных. 
- SQL является стандартным языком для выполнения операций над базами данных, таких как создание, модификация и извлечение данных
- Пример: `SELECT * FROM employees WHERE age > 30;`

**Apache HTTP Server** (Apache Web Server) - веб-сервер, предназначенный для обслуживания веб-сайтов и веб-приложений. Поддерживает динамический контента через языки программирования, такие как PHP, Python, Perl.
- `htdocs` - Это корневая директория веб-сервера Apache, установленного вместе с MAMP. Любые файлы, размещенные в этой директории, становятся доступными для просмотра через браузер по URL, например, `http://localhost/yourfile.php`. Но не обязательно все вэб страницы размещать именно в htdocs (наприимер Apache и так знает, где искать phpMyAdmin)
- Если в папке `htdocs` находится файл с именем **`index.html`** (или **`index.php`**), сервер автоматически откроет и отобразит этот файл, когда вы перейдете по адресу `http://localhost`.

**PHP** - серверный язык программирования, который отвечает за бэкенд.
- Хорошо подходит для подходит для веб-разработки
- Интеграция с базами данных

**MySQL** — система управления базами данных (СУБД).

**phpMyAdmin** — инструмент для управления базами данных через веб-интерфейс. 

**Antares** - SQL клиент (ПО, которое позволяет пользователям подключаться к СУБД и выполнять SQL-запросы). Это графический интерфейс для работы с СУБД

**MAMP** (Macintosh, Apache, MySQL, PHP) — это набор программного обеспечения, который позволяет легко развернуть локальный сервер для разработки веб-приложений на компьютере. Основное предназначение MAMP — создание локальной среды разработки, где можно разрабатывать, тестировать и запускать веб-приложения без необходимости подключения к удалённому серверу.

#### Схема работы:
- БД - хранит данные
- СУБД (например MySql) - система, чтобы управлять БД
- Интерфейс (например phpMyAdmin или Antares) - чтобы удобно работать с СУБД (а не вручную через SQL запросы). phpMyAdmin — это веб-приложение, которое использует элементы управления в браузере. Чтобы веб-приложение работало нужен веб-сервер. Другой GUI - это Antares, и для него не нужен веб-браузер, так как он работает через свой GUI. 
- Веб-сервер (например Apache) - нужен для обработки запросов от браузера. Он может обрабатывать PHP код и отправлять HTML файлы обратно браузеру, которые он в свою очередь может отобразить.
- PHP - для реализации логики работы сайта.

### Базовые определения

**Данные** - это совокупность сведений (информация), представленная в формализованном виде, пригодном для передачи, интерпретации или обработки с участием человека или автоматическими средствами.
- Например: книги, картинки, ДНК и т.д.
- Данные - фиксированные сведения о событиях и явлениях, которые хранятся на определенных носителях

**Информация** – любой  вид знаний о предметах, фактах, понятиях и т. д. проблемной области, которыми обмениваются пользователи информационной системы.
- Например, данные 36,8 могут означать и температуру и размер некоторого объекта
- Информация появляется в результате обработки данных при решении конкретных задач

**Предметная область** - часть реального мира, для которой создается информационная система.

**База данных** (БД) - набор связанных данных.

**Система управления базой данных** (СУБД или Database Management System) - пакет программ, обеспечивающих средства создания и манипулирования базой данных на ЭВМ.

**Система базы данных** (Database System) - пакет программ СУБД вместе с данными. Иногда в систему базы данных включают и приложения.

### Схемы и сортировки

**Схема (schema)** — это структурное описание базы данных (скелет базы данных). В большинстве СУБД, таких как MySQL, PostgreSQL, MariaDB, и других, схема включает в себя:
- **Таблицы**: Основные структуры для хранения данных.
- **Столбцы**: Определяют типы данных в каждой таблице.
- **Ключи**: Первичные и внешние ключи, которые помогают управлять связями между таблицами.
- **Ограничения**: Например, уникальные или NOT NULL ограничения на столбцы.
- **Индексы**: Для ускорения поиска данных.
- **Представления (views)**: Виртуальные таблицы, которые хранятся как результаты SQL-запросов.
- **Функции и процедуры**: Для автоматизации и выполнения задач.

**Collation** (сортировка) в базах данных — это набор правил, определяющих, как сравниваются и сортируются строки текстовых данных в определённой кодировке. Это важно для правильной обработки символов в различных языках и системах письма.
- Каждая база данных, таблица или столбец текстового типа (например, `VARCHAR`, `TEXT`) может иметь свою настройку collation, которая влияет на то, как данные будут сравниваться и сортироваться.

| База данных              | Описание                                                                                            | Назначение                                                                        | реальная / виртуальная |
| ------------------------ | --------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------- | ---------------------- |
| **`information_schema`** | Метаданные обо всех объектах баз данных (таблицы, столбцы, индексы и т.д.).                         | Получение информации о структуре баз данных, их объектах и конфигурации.          | виртуальная            |
| **`mysql`**              | Системная база данных MySQL, содержащая пользователей, права доступа и конфигурации.                | Управление пользователями, правами и настройками MySQL.                           | реальная               |
| **`performance_schema`** | Метрики производительности MySQL, данные о событиях, запросах и потоках.                            | Мониторинг производительности и диагностика узких мест.                           | реальная               |
| **`sys`**                | Агрегированные данные о производительности на основе `performance_schema` с упрощённым интерфейсом. | Упрощённый мониторинг производительности и состояния системы для администраторов. | виртуальная            |
Это системные базы данных, которые содержат метаданные о самой системе

### Ключи и индексы

**Первичный ключ** (primary key) — это одно или несколько полей (столбцов) в таблице базы данных, которые уникально идентифицируют каждую запись (строку) в этой таблице.

**Внешний ключ** (foreign key) — это поле (или набор полей) в таблице базы данных, которое ссылается на первичный ключ (или уникальный ключ) в другой таблице. Внешний ключ служит для создания связи между двумя таблицами в реляционной базе данных, поддерживая целостность данных.

|Тип индекса|Описание|Уникальные значения|Может содержать `NULL`|Основное применение|
|---|---|---|---|---|
|**PRIMARY**|Первичный ключ|Да|Нет|Уникальная идентификация записей|
|**INDEX**|Обычный индекс|Нет|Да|Оптимизация поиска и сортировки|
|**UNIQUE**|Уникальный индекс|Да|Да, но только один `NULL`|Гарантия уникальности значений|
|**FULLTEXT**|Полнотекстовый индекс|Нет|Да|Поиск по текстовым данным|
Индексы обеспечивают быстрый поиск и сортировку за счёт того, что для каждого индекса создаётся отдельная структура данных (Б-дерево или хэш-таблица), которая хранит в узлах само значение индекса и ссылку на соответствующую строку в таблице
- С индексом - скорость O(logN)
- Без индекса - скорость O(N)

В случае **кластерных индексов** (clustered index), данные в самой таблице физически хранятся в отсортированном порядке на основании значения ключа. В таблице может быть только один кластерный индекс, поскольку он определяет физический порядок данных.

### Целостность

**Целостность базы данных** — это свойство базы данных, которое гарантирует корректность, достоверность и согласованность данных в ней. Целостность базы данных достигается за счет использования определенных ограничений и правил, которые накладываются на данные, чтобы избежать ошибок, дубликатов, нарушений связей и других несоответствий. Эти ограничения обеспечивают, что данные остаются точными и логически правильными в любой момент времени.

#### Основные типы целостности данных:
1. **Целостность сущностей (Entity Integrity)** - Гарантирует, что каждая запись в таблице уникально идентифицируется с помощью первичного ключа (Primary Key).
2. **Целостность ссылок (Referential Integrity)** - Поддерживает правильность связей между таблицами, особенно когда одна таблица ссылается на другую с помощью внешних ключей (Foreign Keys). Целостность ссылок гарантирует, что каждая ссылка (внешний ключ) в одной таблице имеет соответствующее значение в другой таблице.
3. **Целостность доменов (Domain Integrity)** - Гарантирует, что значения в поле соответствуют допустимому диапазону или типу данных. Это достигается за счет определения типов данных для полей, а также возможного использования ограничений (constraints) и проверок (check constraints).
4. **Целостность данных на уровне приложения (Application Integrity)** - Это дополнительный уровень целостности, который может быть реализован на уровне бизнес-логики в приложении, работающем с базой данных. Целостность данных может проверяться приложением, чтобы гарантировать корректность операций, которые не всегда можно контролировать через SQL-запросы или схемы базы данных.

#### Как обеспечивается целостность:
1. **Ограничения (Constraints)**: Это правила, которые накладываются на поля и таблицы. К ним относятся:
    - PRIMARY KEY — для целостности сущностей.
    - FOREIGN KEY — для поддержания ссылочной целостности.
    - UNIQUE — для обеспечения уникальности значений.
    - CHECK — для проверки доменных значений.
    - NOT NULL — для предотвращения появления `NULL` в обязательных полях.
2. **Триггеры (Triggers)**: Это специальные процедуры, которые автоматически выполняются при добавлении, обновлении или удалении данных, чтобы гарантировать соблюдение правил целостности.
3. **Хранимые процедуры (Stored Procedures)**: Процедуры могут использоваться для проверки и соблюдения бизнес-правил на уровне базы данных.

### SQL

#### Структура SQL и его подмножества:
1. **DDL** (Data Definition Language, язык описания данных):
    - Отвечает за создание и изменение структуры объектов базы данных (таблицы, индексы и т.д.)
    - Команды:
	    - `CREATE` - создание новых объектов в базе данных (таблицы, индексы, представления, БД)
		- `ALTER` - изменение существующей структуры базы данных или объектов (добавления, изменения или удаления столбцов в таблице)
		- `DROP` - удаление объектов базы данных (таблицы, индексы, БД). При этом все данные, связанные с этим объектом, удаляются
		- `TRUNCATE` - удаляет все строки из таблицы, но не удаляет саму таблицу. Это более быстрый способ очистки таблицы, чем использование команды `DELETE`, так как не фиксируются изменения для каждой строки
1. **DML** (Data Manipulation Language, язык манипулирования данными):
    - Отвечает за операции с данными внутри таблиц.
    - Команды: `SELECT`, `INSERT`, `UPDATE`, `DELETE`
2. **DCL** (Data Control Language, язык управления данными):
    - Используется для управления доступом к данным (назначение прав и ролей).
    - Команды: `GRANT`, `REVOKE`
3. **TCL** (Transaction Control Language, язык управления транзакциями):
    - Управляет транзакциями в базе данных, обеспечивая целостность данных при выполнении групп операций
    - Команды: `COMMIT`, `ROLLBACK`, `SAVEPOINT`

### Транзакции

**Транзакции** в СУБД (системах управления базами данных) — это набор операций с данными, которые выполняются как единое целое, и обладают важными свойствами, известными как ACID. Транзакции обеспечивают корректность и надежность работы с данными, гарантируя, что данные не окажутся в несогласованном или повреждённом состоянии, даже в случае сбоев.
#### Основные свойства транзакций (ACID):
1. **Атомарность (Atomicity)**:
    - Транзакция — это неделимая операция. Либо все операции внутри транзакции выполняются полностью, либо ни одна не выполняется.
    - Пример: Если транзакция состоит из двух шагов (например, перевод денег с одного счёта на другой), то либо оба шага выполнены (списание и зачисление), либо ничего не произошло.
2. **Согласованность (Consistency)**:
    - Транзакция переводит базу данных из одного согласованного состояния в другое. Это означает, что после завершения транзакции все ограничения целостности (например, внешние ключи, уникальные индексы) должны быть соблюдены.
    - Пример: Если перевод денег происходит, то сумма на двух счетах должна быть правильно обновлена, а целостность базы данных не нарушена.
3. **Изолированность (Isolation)**:
    - Операции разных транзакций изолированы друг от друга, т.е. параллельные транзакции не должны влиять друг на друга до тех пор, пока одна из них не завершится (в идеале). В реальности изоляция может быть разной в зависимости от уровня изоляции, что позволяет балансировать между производительностью и целостностью данных.
    - Пример: Если два пользователя одновременно пытаются снять деньги с одного счёта, одна транзакция завершится первой, и вторая будет "видеть" уже обновлённое состояние счёта.
4. **Долговечность (Durability)**:
    - После успешного завершения транзакции (т.е. после выполнения команды COMMIT) изменения данных сохраняются на постоянной основе, даже в случае сбоя системы.
    - Пример: После успешного перевода денег данные об этом переводе сохраняются, даже если сразу после этого произойдёт сбой в системе.

Пример транзакции в SQL:
```sql
START TRANSACTION;

UPDATE accounts
SET balance = balance - 100
WHERE account_id = 1;  -- Списание со счёта 1

UPDATE accounts
SET balance = balance + 100
WHERE account_id = 2;  -- Пополнение счёта 2

COMMIT;  -- Фиксация изменений
```

#### Ролбек (откат) транзакции:

Если в процессе выполнения транзакции что-то пошло не так (например, произошла ошибка или сбой), СУБД может выполнить **откат транзакции** до исходного состояния, чтобы избежать частичного применения изменений.

```sql
START TRANSACTION; 

UPDATE accounts 
SET balance = balance - 100 
WHERE account_id = 1; 

-- Произошла ошибка или сбой 
ROLLBACK; -- Откат всех изменений
```

#### Уровни изоляции транзакций:

СУБД может предоставлять разные уровни изоляции транзакций, которые контролируют, как параллельные транзакции влияют друг на друга. Основные уровни изоляции:
1. **Read Uncommitted**: Транзакция может видеть данные, которые ещё не были зафиксированы другой транзакцией. Это самый низкий уровень изоляции, который допускает "грязное чтение".
2. **Read Committed**: Транзакция может видеть только те изменения, которые были зафиксированы другими транзакциями. Это предотвращает "грязное чтение", но допускает повторяющееся чтение.
3. **Repeatable Read**: Транзакция видит данные, которые были на момент её начала, даже если другие транзакции изменяют данные после этого. Однако это не защищает от "фантомных чтений".
4. **Serializable**: Наивысший уровень изоляции, где транзакции выполняются так, как если бы они были последовательными (одна за другой). Это предотвращает все виды аномалий, но значительно снижает производительность.

Транзакции необходимы, когда:
- Данные критичны: Финансовые операции, учёт товара, обновление баланса счетов и т.д. — любые ошибки могут привести к серьёзным последствиям.
- Есть риск параллельного изменения данных: Если несколько пользователей могут одновременно менять одни и те же данные, транзакции с механизмом блокировок или изоляцией предотвращают конфликты и неконсистентные состояния данных.
- Необходимость поддержания согласованного состояния: Например, в системах с несколькими таблицами, связанными внешними ключами, изменения в одной таблице требуют синхронного обновления связанных записей.

### Проектирование

Этапы логического проектирования:
- Выделение понятий предметной области и описание информации, подлежащей моделированию
- Разработка семантической или информационно-логической (инфологической) модели предметной области без привязки к СУБД. Построение концептуальной модели предметной области.
- Преобразование инфологической модели данных в модель данных конкретной СУБД. Чаще всего в реляционную модель.

**Модель сущность - связь** (ER-модель) - семантическая модель. Нужна для наглядного представления структуры данных перед её реализацией в реляционной базе данных. Основные компоненты ER-модели:
1. **Сущности** (Entities) - объект или элемент реального мира, который необходимо хранить в базе данных. Сущность не имеет определения операций
2. **Атрибуты** (Attributes) - характеристики или свойства сущностей. 
3. **Связи** (Relationships) - показывают, как сущности взаимодействуют друг с другом. Типы связей:
	- M:1 - сотрудник <-> отдел (M:1)
	- 1:1 - человек <-> паспорт (1:1)
	- M:N - студент <-> дисциплина (M:N)
4. **Первичный ключ** (Primary Key) - уникальный идентификатор сущности (идентифицирующий атрибут), который позволяет однозначно различать экземпляры сущностей в базе данных.

| ![[Pasted image 20241021170802.png]] | ![[Pasted image 20241021170850.png]] |
| ------------------------------------ | ------------------------------------ |
| ![[Pasted image 20241021171010.png]] | ![[Pasted image 20240929224740.png]] |

**Реляционная база данных** - это тип базы данных, который хранит и управляет данными с помощью таблиц и связей между ними.

**Диаграмма прецедентов** — это графическое представление взаимодействия пользователей  (актеров) с системой в рамках конкретного программного проекта. Она используется в методологии UML (Unified Modeling Language) для моделирования поведения системы и описания функциональности через так называемые "прецеденты использования" (use cases).

### Структура СУБД

![[Pasted image 20241021195027.png]]

1. **Компилятор запросов** (Query Compiler)
	- Задача: Преобразование SQL-запросов в план выполнения.
	- Анализирует SQL-запросы, отправленные пользователями, и переводит их в понятный для системы план действий. Этот процесс включает:
		- Синтаксический разбор: Проверка правильности структуры SQL-запроса.
		- Оптимизация запросов: Компилятор пытается найти самый эффективный способ выполнения запроса, например, выбирает правильные индексы или упрощает выражения.
		- Планирование выполнения: На основе оптимизации создается план выполнения, который описывает, как сервер должен искать, фильтровать, сортировать данные и взаимодействовать с дисковым хранилищем для выполнения запроса.
	- Пример: Компилятор запросов может решить, что для запроса с фильтрацией по индексу более эффективно воспользоваться индексом, чтобы быстрее найти нужные строки.

2. **Исполняющая машина** (Execution Engine)
	- Задача: Выполнение плана запроса.
	- Отвечает за непосредственное выполнение плана, созданного компилятором запросов. Она интерпретирует план выполнения во внутренние команды СУБД и выполняет их шаг за шагом. Основные задачи:
		- Получение данных из хранилища (запрашивает строки таблицы).
		- Выполнение операций фильтрации, сортировки, объединения и агрегации данных.
		- Формирование конечного результата для отправки пользователю.
	- Пример: Если план включает поиск по индексу, затем фильтрацию по условию и сортировку результата, исполняющая машина последовательно выполнит эти шаги.

3. **Менеджер ресурсов** (Resource Manager)
	- Задача: Управление системными ресурсами для обеспечения оптимальной работы СУБД.
	- Отвечает за распределение и контроль использования ресурсов системы, таких как процессорное время, память и дисковое пространство. Его задачи включают:
		- Управление потоками и процессами.
		- Контроль за использованием процессора и оперативной памяти.
		- Обеспечение многозадачности и приоритезации запросов, чтобы избежать конфликтов при доступе к общим ресурсам.
	- Менеджер ресурсов знает, в каких файлах находятся данные таблицы.
	- Запросы на получение данных транслируются в адреса страниц
	- В СУБД хранение данных реализуется через подсистему управления хранимыми данными (менеджер ресурсов), которая строится на файлах, обеспечивая более сложные и удобные для хранения структуры
	- Пример: Менеджер ресурсов может распределить время выполнения между несколькими запросами, чтобы каждый запрос мог быть обработан равномерно без блокировок.

4. **Менеджер буферов** (Buffer Manager)
	- Задача: Управление кэшированием данных в оперативной памяти.
	- Занимается управлением кэширования данных, которые загружаются из хранилища в оперативную память для более быстрого доступа. Задачи менеджера буферов включают:
		- Кэширование часто запрашиваемых данных, чтобы не обращаться к медленному дисковому хранилищу каждый раз.
		- Управление памятью: какие страницы данных хранить в памяти, а какие выгружать.
		- Поддержание целостности данных, особенно при одновременном доступе.
	- Ответственен за разбиение ОП на буферы – участки-страницы, куда помещается содержимое дисковых блоков
	- Пример: Если пользователи часто запрашивают одну и ту же таблицу, менеджер буферов может хранить её в памяти для ускорения доступа.

5. **Менеджер хранения данных** (Storage Manager)
	- Задача: Управление физическим хранением данных на диске.
	- Управляет размещением данных на дисках (вторичной памяти) и реализует обмен между диском и оперативной памятью.
	- Отвечает за взаимодействие с файловой системой или физическими устройствами для сохранения и извлечения данных. Его основные задачи:
		- Чтение и запись данных на дисковые устройства.
		- Управление файлами данных, индексами и системными файлами базы данных.
		- Обеспечение целостности данных при записи на диск и управлении транзакциями.
	- Пример: Менеджер хранения данных контролирует размещение данных на диске, чтобы минимизировать фрагментацию и ускорить доступ к данным.

6. **Менеджер транзакций** (Transaction Manager)
	- Отвечает за управление транзакциями в СУБД. Он контролирует, чтобы каждая транзакция выполнялась с соблюдением свойств ACID (атомарность, согласованность, изолированность, долговечность). Основные задачи менеджера транзакций:
		- Старт и завершение транзакций: Менеджер начинает транзакции и завершает их с помощью команд `COMMIT` (фиксация) или `ROLLBACK` (откат изменений).
		- Управление изолированностью транзакций: Определяет уровень изоляции транзакций и координирует параллельное выполнение транзакций, чтобы избежать конфликтов и нарушений целостности данных.
		- Решение конфликтов блокировок: Менеджер транзакций взаимодействует с механизмом блокировок, чтобы избежать ситуаций взаимной блокировки (deadlock) и обеспечить корректную работу параллельных транзакций.

7. **Менеджер протоколирования и восстановления** (Logging and Recovery Manager)
	- Обеспечивает долговечность данных и восстановление в случае сбоев. Его задачи:
		- Протоколирование (логирование): Менеджер записывает все изменения, сделанные в базе данных, в журнал транзакций (лог транзакций). Это позволяет восстановить состояние базы данных в случае сбоя, даже если транзакция ещё не была зафиксирована.
		    - Лог включает записи о начале транзакции, изменениях данных и завершении (коммит).
		- Восстановление данных: В случае сбоя менеджер восстановления использует журнал транзакций для отката незавершённых транзакций и применения зафиксированных транзакций.
		    - Восстановление может включать "откат" (undo) незавершённых транзакций и "применение" (redo) завершённых транзакций для сохранения их изменений.

8. **Планировщик заданий** (Scheduler)
	- Отвечает за распределение ресурсов между параллельными запросами и транзакциями, а также за управление выполнением заданий. Основные функции:
		- Управление параллелизмом: Планировщик решает, как различные задачи (например, запросы пользователей или фоновые задания) будут выполняться параллельно, и распределяет вычислительные ресурсы между ними.
		- Контроль за изоляцией: Он определяет, как одновременно выполняющиеся транзакции будут взаимодействовать друг с другом, чтобы избежать "грязного чтения" или других проблем, связанных с параллельным доступом к данным.
		- Приоритизация заданий: Планировщик может назначать приоритеты задачам в зависимости от их важности или временных ограничений, чтобы критические операции выполнялись быстрее.

9. **Таблицы блокировок** (Lock Tables)
	- Таблицы блокировок — это структуры данных, которые используются для управления блокировками, необходимыми для обеспечения корректного параллельного доступа к данным. Блокировки предотвращают одновременное изменение одних и тех же данных несколькими транзакциями.
	- Типы блокировок:
	    - **Exclusive lock** (исключительная блокировка): Запрещает доступ другим транзакциям к данным для чтения и записи.
	    - **Shared lock** (совместная блокировка): Разрешает другим транзакциям чтение, но не запись данных.
	- Управление взаимными блокировками (Deadlock detection): Таблицы блокировок помогают обнаруживать и разрешать ситуации, когда две транзакции блокируют друг друга.

10. **Буферы** (Buffer Manager)
	- Управляет кэшированием данных из базы данных в оперативной памяти. Это один из самых важных компонентов для повышения производительности СУБД, поскольку доступ к оперативной памяти гораздо быстрее, чем к дисковым данным.
		- Буферный пул (Buffer pool): Это область в оперативной памяти, где СУБД хранит страницы данных, которые активно используются. Когда данные читаются с диска, они помещаются в буфер, чтобы следующие запросы могли обращаться к ним без необходимости снова читать с диска.
		- Управление вытеснением данных: Менеджер буферов использует алгоритмы (например, LRU — Least Recently Used) для вытеснения старых страниц данных из буфера, когда требуется место для новых данных.
		- Обновление данных (Write-back caching): Иногда изменения в данных сохраняются сначала в буфер, а затем периодически записываются на диск.

### Нереляционные БД

#### NoSQL базы данных
NoSQL базы данных разработаны для работы с нереляционными структурами данных и предлагают более гибкую модель хранения данных. Они используются для работы с большими объемами данных, высокой скоростью обработки и горизонтального масштабирования.
Виды NoSQL баз данных:
- **Документо-ориентированные базы данных**:
    - Хранят данные в виде документов (например, JSON, BSON, XML).
    - Пример: **MongoDB**, **CouchDB**.
    - Применение: для работы с гибкими структурами данных, такими как веб-приложения, где структура данных может изменяться со временем.
- **Ключ-значение (Key-Value Store)**:
    - Простая модель данных, где каждая запись представляет собой пару "ключ-значение".
    - Пример: **Redis**, **Memcached**, **DynamoDB**.
    - Применение: для кэширования данных, сессий пользователей, быстрых операций поиска по ключу.
- **Колонночные базы данных (Column-Family Stores)**:
    - Данные хранятся по колонкам, что позволяет эффективно работать с большими объемами данных.
    - Пример: **Apache Cassandra**, **HBase**, **Bigtable**.
    - Применение: для аналитических задач и обработки больших объемов данных в распределённых системах.
- **Графовые базы данных (Graph Databases)**:
    - Хранят данные в виде графов, где узлы представляют сущности, а рёбра — связи между ними.
    - Пример: **Neo4j**, **Amazon Neptune**, **OrientDB**.
    - Применение: для моделирования сложных сетевых структур, таких как социальные сети, рекомендации, маршрутизация.

#### Time-Series базы данных
Эти базы данных оптимизированы для хранения и обработки данных временных рядов — данных, где важна временная метка (время, к которому относятся данные).
- Пример: **InfluxDB**, **Prometheus**, **TimescaleDB**.
- Применение: мониторинг систем, IoT-устройства, финансовые данные, аналитика.

#### NewSQL базы данных
NewSQL базы данных — это гибрид, который сочетает принципы реляционных баз данных с возможностями масштабирования NoSQL-систем. Они обеспечивают реляционную модель данных, но с высокой производительностью и масштабируемостью.
- Пример: **CockroachDB**, **Google Spanner**, **VoltDB**.
- Применение: для приложений, где требуется высокая консистентность данных, транзакции и горизонтальное масштабирование.

#### Объектно-ориентированные базы данных
Эти базы данных хранят данные в виде объектов, как в объектно-ориентированных языках программирования (например, Java, C++).
- Пример: **db4o**, **ObjectDB**.
- Применение: для приложений, где используется объектно-ориентированное программирование, и необходимо хранить объекты в базе данных без преобразований.

#### Гибридные базы данных
Гибридные базы данных сочетают в себе несколько подходов к хранению данных. Например, они могут поддерживать как реляционные структуры, так и нереляционные (документы, графы).
- Пример: **ArangoDB**, **Couchbase**.
- Применение: для приложений, где требуется работа с разными типами данных в одной базе данных.

#### Базы данных графов знаний
Эти базы данных фокусируются на хранении знаний в виде связанных фактов и отношений, что делает их особенно полезными для семантического поиска и искусственного интеллекта.
- Пример: **AllegroGraph**, **Stardog**, **Blazegraph**.
- Применение: семантические веб-приложения, онтологии, анализ данных с глубокими взаимосвязями.

#### Многомодельные базы данных
Эти базы данных могут поддерживать несколько типов данных одновременно, например, документы, графы и ключ-значение, что делает их универсальными и гибкими.
- Пример: **Couchbase**, **ArangoDB**, **MarkLogic**.
- Применение: для приложений с разными типами данных и разнообразными структурами.

#### Базы данных для обработки данных в памяти
Эти базы данных хранят данные в оперативной памяти, что обеспечивает очень высокую скорость чтения и записи. Они используются для приложений с высокими требованиями к производительности.
- Пример: **Redis**, **Memcached**, **SAP HANA**.
- Применение: кэширование, высокоскоростные вычисления, аналитика в реальном времени.

#### Базы данных на основе блокчейна
Этот тип баз данных использует технологию распределённого реестра, которая гарантирует неизменяемость и проверяемость данных.
- Пример: **BigchainDB**, **ChainDB**.
- Применение: для приложений с высоким уровнем безопасности и прозрачности, таких как криптовалюты, смарт-контракты.

#### Базы данных для распределённого хранения файлов
Эти базы данных позволяют распределённо хранить большие файлы, такие как документы, видео или изображения.
- Пример: **Hadoop HDFS**, **Google File System (GFS)**, **Amazon S3**.
- Применение: работа с большими объёмами неструктурированных данных.

#### Базы данных для геопространственных данных
Они специально разработаны для работы с географическими данными и поддерживают операции с координатами, расстояниями и геометрическими фигурами.
- Пример: **PostGIS (на основе PostgreSQL)**, **GeoMesa**.
- Применение: географические информационные системы (ГИС), приложения с картами и геолокацией.

#### Hierarchical и Network базы данных
Эти старые модели баз данных были популярны до появления реляционных СУБД. Они предоставляют древовидные или сетевые структуры для хранения данных.
- **Hierarchical DBMS**: данные организованы в древовидную структуру, где каждый узел имеет только одного родителя.
    - Пример: **IBM Information Management System (IMS)**.
- **Network DBMS**: данные организованы в виде сети, где каждый узел может иметь несколько родителей.
    - Пример: **Integrated Data Store (IDS)**.

### Далее

