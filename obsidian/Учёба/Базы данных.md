
### Полезности
- [Медия](https://www.nsumedia.ru/main_potok/third_course/fifth_semester/database)
- [Задания для проектов](https://docs.google.com/document/d/1UsIZY0JJKGaf0pqvZArv--NHtj9nrNa_/edit)
- [Описание проектов](https://docs.google.com/document/d/1VpRXyO9DVSKPxkdWEFubtaxEDkcxUzhv/edit)
- [Гугл-диск с материалами](https://drive.google.com/drive/folders/13y5gWCIQTiyg-9LlVB826phQJemk4dTV)
- [Гугл-диск лектора](https://drive.google.com/drive/folders/1aPrGo1XBiQedhvnALgVJL1Erz4aqQlRv)
- [Отзывы о преподавателях](https://docs.google.com/document/d/16hbDYg7dMCo3DLn8NgGGI-eOoDxosUn0yKN1fwrPcsA/edit#heading=h.jcnhp9p1wgko)
- [Отзывы о преподавателях 2.0](https://docs.google.com/document/d/11VQiY0Cr86lxh0qlV4kj7X857_xOVnfCdQMilYKfob0/edit#heading=h.z9gt69h3lhwi)
- [Тесты от Караваева](http://ccfit.nsu.ru/~karavaev/)
- [Расписанные криты](https://docs.google.com/document/d/1wpYo1Z2Vdf6UEKxLWsjwzJg4qk71Tb_jR1LjvUL-M18/edit#heading=h.i4i47456z4u5)
- [Расписанные вопросы](https://docs.google.com/document/d/1YILTbuNEWH9YXQSVyxSdrL5twPLrPT-aOZzGKwQjSg0/edit)
- [Расписанные вопросы 2.0](https://docs.google.com/document/d/1XeZhV_EnHm8ttQPun7HxFKFl_9IcIPk4-iXFopq-w-U/edit)
- [Отзывы о сдаче экзамена](https://docs.google.com/spreadsheets/d/1X7SkwqaCLOhLE_y_84_KDMM5kZdROauHGhhmzem8Wig/edit?gid=0#gid=0)
- [Гайд по установке Apache + PHP + MySQL](https://hackware.ru/?p=21)
- [БД, на которых тренироваться select запросы писать (логин: HR, пароль: HR)](http://84.237.50.81:8080/apex)
- [Интерактивный онлайн курс по SQL](https://sql-academy.org/ru)

### Ссылки
- [localhost](http://localhost)
- [MAMP](http://localhost/MAMP/)
- [phpMyAdmin](http://localhost/phpMyAdmin5/)

### Команды
- `httpd.exe -k start` - запуск Apache веб-сервера (который в C:/Server)
- `netstat -aon | findstr :80` - проверить, что Apache запущен (если он на порту 80)
- `net start mysql` - запуск MySQL (который в C:/Server)
- `netstat -aon | findstr :3306` - проверить, что MySQL запущен

### Тренировочные тесты (не от лектора):
- [тесты 1 & 2](https://docs.google.com/forms/d/e/1FAIpQLSftTzNRV76ZmXtdrQcRH9CDDsvL3789nO-YcFQZ0MhIaWmeig/viewform)
- [расширение тестов 1 & 2](https://docs.google.com/forms/d/e/1FAIpQLSdOIDxjT-jBs8ms8jPF2t5TVnlvuvgrA137GieY4cQuSgU6HQ/viewform)
- [тест 3](https://docs.google.com/forms/d/e/1FAIpQLSfrfL_1Pk5vMY-Xk0UJIyaph_xV5IvN--E5IXnkQEJVAEoE6w/viewform)
- [тест 4](https://docs.google.com/forms/d/e/1FAIpQLSfvjvK4Eeg-Cxr-HtwlL0t3g58F2wXI7zBabbPTFi_bkudU2g/viewform)
- [тест 5](https://docs.google.com/forms/d/e/1FAIpQLSf0JYrE9lZy7EQw51SIfq96A59VI_ruyvLPFE0Sc0n8dX_T-Q/viewform)
- [тест 6](https://docs.google.com/forms/d/e/1FAIpQLSeiuzk8FTSroiivdO3dwtNPw4KQ9_1C9aRqJ4DVL3-RqhixOg/viewform)

### Базовые определения

**Данные** - это совокупность сведений (информация), представленная в формализованном виде, пригодном для передачи, интерпретации или обработки с участием человека или автоматическими средствами.
- Например: книги, картинки, ДНК и т.д.
- Данные - фиксированные сведения о событиях и явлениях, которые хранятся на определенных носителях

**Информация** – любой  вид знаний о предметах, фактах, понятиях и т. д. проблемной области, которыми обмениваются пользователи информационной системы.
- Например, данные 36,8 могут означать и температуру и размер некоторого объекта
- Информация появляется в результате обработки данных при решении конкретных задач

**Предметная область** - часть реального мира, для которой создается информационная система.

**База данных** (БД) - набор связанных данных.

**Система управления базой данных** (СУБД или Database Management System) - пакет программ, обеспечивающих средства создания и манипулирования базой данных на ЭВМ.

**Система базы данных** (Database System) - пакет программ СУБД вместе с данными. Иногда в систему базы данных включают и приложения.

### Инструменты

**MS Access** (Microsoft Access) - СУБД (система управления базами данных). Она предоставляет возможность создания и управления реляционными базами данных и интегрирует удобный пользовательский интерфейс для работы с базами данных.
- Хорошо подходит для небольших и средних приложений баз данных
- MS Access можно использовать как базу данных для приложений

**SQL** (Structured Query Language) — это язык структурированных запросов, используемый для управления и взаимодействия с реляционными базами данных. 
- SQL является стандартным языком для выполнения операций над базами данных, таких как создание, модификация и извлечение данных
- Пример: `SELECT * FROM employees WHERE age > 30;`

**Apache HTTP Server** (Apache Web Server) - веб-сервер, предназначенный для обслуживания веб-сайтов и веб-приложений. Поддерживает динамический контента через языки программирования, такие как PHP, Python, Perl.
- `htdocs` - Это корневая директория веб-сервера Apache, установленного вместе с MAMP. Любые файлы, размещенные в этой директории, становятся доступными для просмотра через браузер по URL, например, `http://localhost/yourfile.php`. Но не обязательно все вэб страницы размещать именно в htdocs (наприимер Apache и так знает, где искать phpMyAdmin)
- Если в папке `htdocs` находится файл с именем **`index.html`** (или **`index.php`**), сервер автоматически откроет и отобразит этот файл, когда вы перейдете по адресу `http://localhost`.

**PHP** - серверный язык программирования, который отвечает за бэкенд.
- Хорошо подходит для подходит для веб-разработки
- Интеграция с базами данных

**MySQL** — система управления базами данных (СУБД).

**phpMyAdmin** — инструмент для управления базами данных через веб-интерфейс. 

**Antares** - SQL клиент (ПО, которое позволяет пользователям подключаться к СУБД и выполнять SQL-запросы). Это графический интерфейс для работы с СУБД

**MAMP** (Macintosh, Apache, MySQL, PHP) — это набор программного обеспечения, который позволяет легко развернуть локальный сервер для разработки веб-приложений на компьютере. Основное предназначение MAMP — создание локальной среды разработки, где можно разрабатывать, тестировать и запускать веб-приложения без необходимости подключения к удалённому серверу.

#### Схема работы:
- БД - хранит данные
- СУБД (например MySql) - система, чтобы управлять БД
- Интерфейс (например phpMyAdmin или Antares) - чтобы удобно работать с СУБД (а не вручную через SQL запросы). phpMyAdmin — это веб-приложение, которое использует элементы управления в браузере. Чтобы веб-приложение работало нужен веб-сервер. Другой GUI - это Antares, и для него не нужен веб-браузер, так как он работает через свой GUI. 
- Веб-сервер (например Apache) - нужен для обработки запросов от браузера. Он может обрабатывать PHP код и отправлять HTML файлы обратно браузеру, которые он в свою очередь может отобразить.
- PHP - для реализации логики работы сайта.

### Основы БД

**Схема (schema)** — это структурное описание базы данных (скелет базы данных). В большинстве СУБД, таких как MySQL, PostgreSQL, MariaDB, и других, схема включает в себя:
- **Таблицы**: Основные структуры для хранения данных.
- **Столбцы**: Определяют типы данных в каждой таблице.
- **Ключи**: Первичные и внешние ключи, которые помогают управлять связями между таблицами.
- **Ограничения**: Например, уникальные или NOT NULL ограничения на столбцы.
- **Индексы**: Для ускорения поиска данных.
- **Представления (views)**: Виртуальные таблицы, которые хранятся как результаты SQL-запросов.
- **Функции и процедуры**: Для автоматизации и выполнения задач.

**Collation** (сортировка) в базах данных — это набор правил, определяющих, как сравниваются и сортируются строки текстовых данных в определённой кодировке. Это важно для правильной обработки символов в различных языках и системах письма.
- Каждая база данных, таблица или столбец текстового типа (например, `VARCHAR`, `TEXT`) может иметь свою настройку collation, которая влияет на то, как данные будут сравниваться и сортироваться.

| База данных              | Описание                                                                                            | Назначение                                                                        | реальная / виртуальная |
| ------------------------ | --------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------- | ---------------------- |
| **`information_schema`** | Метаданные обо всех объектах баз данных (таблицы, столбцы, индексы и т.д.).                         | Получение информации о структуре баз данных, их объектах и конфигурации.          | виртуальная            |
| **`mysql`**              | Системная база данных MySQL, содержащая пользователей, права доступа и конфигурации.                | Управление пользователями, правами и настройками MySQL.                           | реальная               |
| **`performance_schema`** | Метрики производительности MySQL, данные о событиях, запросах и потоках.                            | Мониторинг производительности и диагностика узких мест.                           | реальная               |
| **`sys`**                | Агрегированные данные о производительности на основе `performance_schema` с упрощённым интерфейсом. | Упрощённый мониторинг производительности и состояния системы для администраторов. | виртуальная            |
Это системные базы данных, которые содержат метаданные о самой системе

### Ключи и индексы

**Первичный ключ** (primary key) — это одно или несколько полей (столбцов) в таблице базы данных, которые уникально идентифицируют каждую запись (строку) в этой таблице.

**Внешний ключ** (foreign key) — это поле (или набор полей) в таблице базы данных, которое ссылается на первичный ключ (или уникальный ключ) в другой таблице. Внешний ключ служит для создания связи между двумя таблицами в реляционной базе данных, поддерживая целостность данных.

|Тип индекса|Описание|Уникальные значения|Может содержать `NULL`|Основное применение|
|---|---|---|---|---|
|**PRIMARY**|Первичный ключ|Да|Нет|Уникальная идентификация записей|
|**INDEX**|Обычный индекс|Нет|Да|Оптимизация поиска и сортировки|
|**UNIQUE**|Уникальный индекс|Да|Да, но только один `NULL`|Гарантия уникальности значений|
|**FULLTEXT**|Полнотекстовый индекс|Нет|Да|Поиск по текстовым данным|
Индексы обеспечивают быстрый поиск и сортировку за счёт того, что для каждого индекса создаётся отдельная структура данных (Б-дерево или хэш-таблица), которая хранит в узлах само значение индекса и ссылку на соответствующую строку в таблице
- С индексом - скорость O(logN)
- Без индекса - скорость O(N)

В случае **кластерных индексов** (clustered index), данные в самой таблице физически хранятся в отсортированном порядке на основании значения ключа. В таблице может быть только один кластерный индекс, поскольку он определяет физический порядок данных.

### Целостность

**Целостность базы данных** — это свойство базы данных, которое гарантирует корректность, достоверность и согласованность данных в ней. Целостность базы данных достигается за счет использования определенных ограничений и правил, которые накладываются на данные, чтобы избежать ошибок, дубликатов, нарушений связей и других несоответствий. Эти ограничения обеспечивают, что данные остаются точными и логически правильными в любой момент времени.

#### Основные типы целостности данных:
1. **Целостность сущностей (Entity Integrity)** - Гарантирует, что каждая запись в таблице уникально идентифицируется с помощью первичного ключа (Primary Key).
2. **Целостность ссылок (Referential Integrity)** - Поддерживает правильность связей между таблицами, особенно когда одна таблица ссылается на другую с помощью внешних ключей (Foreign Keys). Целостность ссылок гарантирует, что каждая ссылка (внешний ключ) в одной таблице имеет соответствующее значение в другой таблице.
3. **Целостность доменов (Domain Integrity)** - Гарантирует, что значения в поле соответствуют допустимому диапазону или типу данных. Это достигается за счет определения типов данных для полей, а также возможного использования ограничений (constraints) и проверок (check constraints).
4. **Целостность данных на уровне приложения (Application Integrity)** - Это дополнительный уровень целостности, который может быть реализован на уровне бизнес-логики в приложении, работающем с базой данных. Целостность данных может проверяться приложением, чтобы гарантировать корректность операций, которые не всегда можно контролировать через SQL-запросы или схемы базы данных.

#### Как обеспечивается целостность:
1. **Ограничения (Constraints)**: Это правила, которые накладываются на поля и таблицы. К ним относятся:
    - PRIMARY KEY — для целостности сущностей.
    - FOREIGN KEY — для поддержания ссылочной целостности.
    - UNIQUE — для обеспечения уникальности значений.
    - CHECK — для проверки доменных значений.
    - NOT NULL — для предотвращения появления `NULL` в обязательных полях.
2. **Триггеры (Triggers)**: Это специальные процедуры, которые автоматически выполняются при добавлении, обновлении или удалении данных, чтобы гарантировать соблюдение правил целостности.
3. **Хранимые процедуры (Stored Procedures)**: Процедуры могут использоваться для проверки и соблюдения бизнес-правил на уровне базы данных.

### Лекции (1 / 33)

**Модель сущность - связь** (ER-модель) - семантическая модель. Нужна для наглядного представления структуры данных перед её реализацией в реляционной базе данных. Основные компоненты ER-модели:
1. Сущности (Entities) - объект или элемент реального мира, который необходимо хранить в базе данных.
2. Атрибуты (Attributes) - характеристики или свойства сущностей. 
3. Связи (Relationships) - показывают, как сущности взаимодействуют друг с другом.
4. Первичный ключ (Primary Key) - уникальный идентификатор сущности, который позволяет однозначно различать экземпляры сущностей в базе данных.

Нотация Чена:
![[Pasted image 20240929224740.png]]

**Реляционная база данных** - это тип базы данных, который хранит и управляет данными с помощью таблиц и связей между ними.

**Диаграмма прецедентов** — это графическое представление взаимодействия пользователей  (актеров) с системой в рамках конкретного программного проекта. Она используется в методологии UML (Unified Modeling Language) для моделирования поведения системы и описания функциональности через так называемые "прецеденты использования" (use cases).




Нужно:
- Сделать проект (до конца октября)
- Готовиться к кр по sql (нужно будет написать 3 select-а за 45 минут)
- Изучать лекции
- Готовиться к тестам
