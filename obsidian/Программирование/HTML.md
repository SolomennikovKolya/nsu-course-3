

**HTML** (HyperText Markup Language) — это язык разметки, который используется для создания структуры веб-страниц

#### Особенности
- HTML — это основа, которая описывает структуру и содержимое веб-страницы.
- Браузеры рендерят содержимое страницы именно с помощью HTML
- Иногда сервер возвращает не HTML, а данные в формате JSON или XML. Это происходит, например, в случае API-запросов. Однако, чтобы такие данные были отображены в браузере, требуется дополнительная обработка JavaScript-ом, который создаёт HTML-элементы для их визуализации
- Любая веб-страница в конечном итоге преобразуется в HTML-код, даже если она изначально была сгенерирована с помощью других языков (например, PHP, Python или JavaScript)
- HTML страницы передаются по HTTP, который работает на основе TCP
- Браузер отображает именно последнюю HTML-страницу, которую сервер отправил в ответ на запрос
- Сервер всегда отправляет один ответ на один запрос. Если сервер отправляет частичный ответ (например, по технологии server-sent events или chunked transfer encoding), браузер может обновлять содержимое страницы по мере получения данных. Однако в стандартном запросе (например, при загрузке страницы) отображается только последний корректный ответ, так как сервер завершает передачу после отправки полной страницы

#### Последовательность работы
1. *Запрос от клиента (браузера):*
    - Когда вы вводите URL в адресную строку или нажимаете на ссылку, браузер отправляет HTTP-запрос на сервер
2. *Обработка на сервере:*
    - Сервер обрабатывает запрос. Если используется динамическая страница (например, с PHP), сервер выполняет весь серверный код (обращается к базам данных, выполняет вычисления и т.д.) и формирует результат в виде HTML-страницы
3. *Ответ сервера:*
    - Сервер отправляет сформированный HTML-код обратно клиенту (браузеру). Это то, что называется ответом сервера
4. *Отображение в браузере:*    
    - Браузер принимает HTML-код из ответа и интерпретирует его, чтобы отобразить страницу пользователю

### Теги

#### Виды тегов
1. Парные:
	- Пример: `<p>Это параграф</p>`
2. Одинарные:
	- Пример: `<img src="image.jpg" alt="Описание изображения" />`

#### Атрибуты тегов
- Атрибуты добавляют свойства тегам и пишутся внутри открывающего тега.
- Общие правила:
    - Имя атрибута в нижнем регистре
    - Значения атрибутов заключайте в кавычки (одинарные или двойные):
    - Пример: `<img src="image.jpg" alt="Описание изображения">`
- Бывают обязательные атрибуты для некоторых тегов

Теги для содержания:
- `<h1>` ... `<h6>` - для заголовков
- `<p>` - для параграфов
- `<ul>` или `<ol>` - для списков

### DOM

**DOM** (Document Object Model — «объектная модель документа») — это представление HTML-документа в виде разветвлённой структуры или дерева. Состоит из узлов, где каждый узел соответствует элементу, тексту или атрибуту HTML-документа. Узлы связаны между собой отношениями «родительский-дочерний». Не только теги, но и другие части HTML становятся объектами:

| Тип узла    | Пример                 | Описание                             |
| ----------- | ---------------------- | ------------------------------------ |
| Элемент     | `<div>`, `<p>`, `<a>`  | HTML-теги (основные объекты DOM)     |
| Текст       | `Привет, мир!`         | Текст внутри тегов                   |
| Атрибут     | `id="myDiv"`           | Атрибуты элементов (`class`, `href`) |
| Комментарий | `<!-- комментарий -->` | Комментарии в HTML                   |
| Документ    | `document`             | Корень DOM-дерева                    |
Пример: 
`<div id="myDiv">Привет, мир!</div>` в DOM преобразуется в:
```javascript
{
  nodeName: "DIV",
  id: "myDiv",
  className: "",
  textContent: "Привет, мир!",
  children: [],
  style: { ... },
  onclick: null,
  // ... и сотни других свойств/методов
}
```


Особенности DOM:
- *Не является статической структурой*: Её можно изменять с помощью JavaScript и тут же видеть эти изменения на экране
- *Позволяет программистам изменять содержимое и стиль веб-страницы*
- *Используется для работы с элементами веб-страницы*, добавления и удаления элементов, изменения стилей и содержимого, обработки событий и многого другого

![[Pasted image 20250330122300.png]]
![[Pasted image 20250330120140.png]]

### Вопросы - ответы

#### HTML выполняется на стороне клиента
HTML-файлы обрабатываются веб-браузером, который работает на устройстве пользователя (клиента). Сервер просто отправляет этот файл по запросу, но выполнение разметки происходит на клиентской стороне

#### HTML читается сверху вниз
Браузер читает HTML-код построчно, начиная с самого начала (`<!DOCTYPE html>`) и до самого конца (`</html>`). Во время этого процесса:
- Браузер создаёт *DOM (Document Object Model)* — иерархическую структуру документа. DOM используется для взаимодействия с содержимым страницы (например, через JavaScript)
- Некоторые элементы (например, `<head>`) используются для настройки страницы, но не отображаются
- Элементы, расположенные в `<body>`, добавляются в визуальную часть страницы

#### HTML код читается и выполняется последовательно
Однако выполнение не ограничивается только одним разом. Вот нюансы:
- Браузер отрисовывает страницу по мере чтения HTML-кода. Например:
    - Когда он встречает `<h1>`, отрисовывается заголовок
    - Когда он встречает `<img>`, браузер загружает и отображает изображение
- Динамическое обновление: JavaScript может вносить изменения в DOM после завершения первичного рендера. Таким образом, страница может динамически обновляться без перезагрузки

#### Подключение внешних ресурсов
HTML-код часто содержит ссылки на внешние ресурсы:
- CSS (например, через `<link>`): определяет внешний вид и стиль страницы
- JavaScript (например, через `<script>`): добавляет интерактивность
- Медиафайлы (например, изображения через `<img>`): загружаются по мере необходимости
Браузер выполняет параллельные запросы для загрузки этих ресурсов, но порядок их подключения влияет на конечный результат

#### Поведение динамических элементов
- *CSS*: применяется на этапе построения и рендера страницы, и изменения в CSS-файле могут сразу отражаться в интерфейсе
- *JavaScript*: может выполняться сразу при загрузке страницы или в ответ на действия пользователя (например, клики, ввод текста)

#### Почему HTML-код можно обновить?
Хотя браузер читает HTML сверху вниз, страница остаётся интерактивной благодаря DOM. Например, JavaScript позволяет обновить DOM в реальном времени (например, скрыть или показать элементы)

#### За счёт чего страницы динамические
1. Серверная динамика:
	- На сервере используется язык программирования (например, PHP, Python, Ruby) для генерации HTML на основе данных или логики
	- Когда пользователь делает запрос к странице, сервер:
		- Обрабатывает запрос
	        - Получает необходимые данные (например, из базы данных)
	        - Генерирует HTML, который отправляется клиенту
2. Клиентская динамика:
	- На стороне клиента динамика реализуется с помощью JavaScript
	- JavaScript может:
		- Менять содержимое страницы без повторного запроса к серверу (например, добавление элементов в DOM)
	        - Загружать новые данные через AJAX-запросы

### Как браузер обрабатывает разные типы ответов от сервера

#### 1. Когда сервер отправляет HTML (стандартный случай)

Браузер ожидает HTML по умолчанию, когда вы:
- Вводите URL в адресную строку
- Переходите по ссылке (`<a href>`)
- Отправляете форму (`<form action>`)

Что происходит:
1. Браузер получает HTML
2. Начинает построение DOM
3. Встречая теги `<script>`, загружает и выполняет JS
4. При наличии CSS строит CSSOM и формирует Render Tree

#### 2. Когда сервер отправляет JSON (или другие данные)

Это происходит в нескольких сценариях:
1. AJAX-запросы через JavaScript
	Что происходит:
	1. JS инициирует запрос к API
	2. Сервер отвечает JSON (обычно с заголовком `Content-Type: application/json`)
	3. Браузер НЕ пытается рендерить JSON как страницу
	4. JavaScript получает "сырые" данные для дальнейшей обработки
2. Неправильно настроенный сервер
	Если сервер по "обычному" URL (который пользователь вводит в адресной строке) отправит JSON вместо HTML:
	5. Браузер получит ответ с Content-Type: application/json
	6. Большинство браузеров покажут "сырой" JSON или предложат скачать файл
	7. Страница НЕ будет отрендерена как обычный сайт

#### 3. Как браузер определяет обработку ответа

Ключевой фактор — HTTP-заголовки, особенно:
- `Content-Type`:
    - `text/html` → обрабатывает как HTML
    - `application/json` → данные для JS
    - `text/plain` → простой текст
- `Content-Disposition`:
    - Может заставить браузер скачать файл (`attachment`)

### Интересные понятия

**Модальное окно** — это элемент пользовательского интерфейса, который представляет собой окно, расположенное поверх содержимого веб-страницы. Оно требует взаимодействия пользователя перед тем, как можно будет продолжить взаимодействие с остальной частью страницы

**Семантика в HTML** — это свойство тегов не только отображать содержимое, но и передавать его смысл и назначение браузерам, поисковым системам и вспомогательным технологиям (например, экранным читалкам). Семантические теги помогают улучшить структуру и понимание контента

#### Разница между section и div:
- `<section>` используется для разделения документа на логические разделы, каждый из которых имеет смысловую цель. Он предполагает, что секция может быть описана заголовком (`<h1>`, `<h2>` и т.д.)
- `<div>` - это не семантический контейнер. Он предназначен для группировки элементов, но не указывает их смысл. Используется, когда нужно просто объединить элементы для стилизации или работы с JavaScript

#### Классы в HTML
Атрибут `class` в HTML используется для задания имени класса элемента. 
Классы помогают идентифицировать и группировать элементы на странице, чтобы:
1. Применять стили (CSS)
	- Классы можно использовать для стилизации конкретных элементов
2. Взаимодействовать с элементами через JavaScript
	- Например, можно выбрать все элементы с определённым классом и выполнять с ними операции
3. Упрощать структуры и группировать элементы
	- Если у вас есть несколько элементов с похожей ролью, вы можете дать им одинаковый класс, чтобы работать с ними сразу

### Cookies

**Cookies (куки)** — это небольшие текстовые файлы, которые веб-сайты сохраняют в браузере пользователя. Они нужны для:
- *Авторизации* (сохранение логина/сессии)
- *Персонализации* (язык, тема, настройки)
- *Отслеживания* (аналитика, рекламные метки)

####  Как работают Cookies
1. Создание куки:
	- Сервер отправляет HTTP-заголовок `Set-Cookie` в ответе
	- Браузер сохраняет куки и будет отправлять их обратно серверу с каждым запросом
2. Отправка куки серверу
	- При следующих запросах браузер автоматически добавляет куки в заголовок `Cookie`
3. Где хранятся куки
	- В браузере (не на жёстком диске как файлы)
	- Разные для каждого домена (сайт `example.com` не может прочитать куки `another.com`)

#### Основные параметры Cookies

|**Параметр**|**Пример**|**Для чего нужен**|
|---|---|---|
|`Expires`|`Expires=Wed, 21 Oct 2025 07:28:00 GMT`|Дата удаления куки.|
|`Max-Age`|`Max-Age=3600`|Время жизни в секундах (например, 1 час).|
|`Domain`|`Domain=example.com`|Для каких поддоменов доступна кука.|
|`Path`|`Path=/admin`|В каких разделах сайта действует.|
|`Secure`|`Secure`|Отправка только по HTTPS.|
|`HttpOnly`|`HttpOnly`|Запрет доступа к куке из JavaScript (защита от XSS).|
|`SameSite`|`SameSite=Lax`|Защита от CSRF-атак (`Strict`, `Lax`, `None`).|

#### Типы Cookies
1. **Сессионные** — удаляются при закрытии браузера
2. **Постоянные** — хранятся до истечения срока (`Expires`/`Max-Age`)
3. **Третьесторонние (Third-party)** — с других доменов (например, рекламные трекеры)

#### Безопасность Cookies
- **HttpOnly** — защита от XSS-атак (JavaScript не может прочитать такие куки)
- **Secure** — передача только по HTTPS
- **SameSite** — защита от CSRF:
    - `Strict` — куки отправляются только при переходе с того же сайта
    - `Lax` (по умолчанию) — куки отправляются при безопасных переходах (ссылки)
    - `None` — разрешает отправку с любых сайтов (требует `Secure`)

#### Ограничения Cookies
- Размер: до 4 КБ на одну куку
- Количество: зависит от браузера (обычно ~50–150 на домен)
- Доступ: только к кукам своего домена (если не `Third-party`)

#### Чем куки отличаются от LocalStorage

|**Критерий**|**Cookies**|**LocalStorage**|
|---|---|---|
|**Отправка на сервер**|Автоматически с каждым запросом|Только через JavaScript|
|**Хранение**|До удаления или истечения срока|Бессрочно, пока не очистит пользователь|
|**Размер**|До 4 КБ|До 5–10 МБ|
|**Доступ из JS**|Да (если не `HttpOnly`)|Да|
